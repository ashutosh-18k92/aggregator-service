apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Helm chart inflation (ArgoCD handles Helm 4.x compatibility)
helmCharts:
  - name: api
    repo: https://ashutosh-18k92.github.io/sf-helm-charts/
    # Note: Version will be overridden by environment-specific kustomization
    version: v0.1.2
    releaseName: aggregator
    namespace: super-fortnight
    valuesFile: values.yaml
    includeCRDs: false

# Common labels
commonLabels:
  app.kubernetes.io/part-of: aggregator-service

# ConfigMap for service configuration
configMapGenerator:
  - name: service-config
    literals:
      - PORT=3000
      - SERVICE_NAME=aggregator-service
